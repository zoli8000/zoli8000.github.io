<!doctype html>
<html lang="en">
    <head>
        <!-- Material Icons font for fullscreen button -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta
            name="viewport"
            content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover"
        />
        <title>Document</title>

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Mulish:wght@700&display=swap"
            rel="stylesheet"
        />

        <style>
            @import url('https://fonts.googleapis.com/css2?family=Mulish:wght@700&display=swap');
        </style>

      <script type="module" crossorigin>(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const le="modulepreload",de=function(t,e){return new URL(t,e).href},Y={},D=function(e,n,o){let r=Promise.resolve();if(n&&n.length>0){let k=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};const s=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=k(n.map(d=>{if(d=de(d,o),d in Y)return;Y[d]=!0;const h=d.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(!!o)for(let y=s.length-1;y>=0;y--){const v=s[y];if(v.href===d&&(!h||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${u}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":le,h||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((y,v)=>{m.addEventListener("load",y),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return r.then(s=>{for(const a of s||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};class me{SOLUTION_OPTIONS=5;ROUNDS=10;FOODS=["🍟","🍕","🍧"];score=[0,0,0];currentScore=3;iconDiv=null;round=0;totalScore=0;rabbitSize=30;resetScore(){this.round=0,this.score=[0,0,0]}updateScore(){const e=document.getElementById("score");e&&(e.innerHTML=`🍟: <span>${this.score[0]}</span> 🍕: <span>${this.score[1]}</span> 🍧: <span>${this.score[2]}</span>`);const n=document.getElementById("remaining");n&&(n.innerHTML=this.FOODS.slice(0,this.currentScore).join(""));const o=document.getElementById("round");o&&(o.innerHTML=`${this.round} / ${this.ROUNDS}`)}rnd(e,n){return Math.floor(Math.random()*(n-e+1))+e}rndLetter(){return String.fromCharCode(this.rnd(1,26)+64)}shuffle(e){return e.sort(()=>Math.random()-.5)}}const c=new me;class ee{ctx;enabled=!0;constructor(){this.ctx=new(window.AudioContext||window.webkitAudioContext)}setEnabled(e){this.enabled=e}getEnabled(){return this.enabled}play(e){if(this.enabled)switch(e){case"correct":this.tone(440,.01,.045,"sine",.035);break;case"wrong":this.tone(392,.01,.06,"sine",.06),this.tone(330,.13,.055,"sine",.048);break;case"click":this.tone(880,.01,.03,"sine",.04);break;case"end":this.tone(523.25,.08,.13,"sine",.07),this.tone(783.99,.15,.13,"sine",.06),this.tone(1046.5,.22,.18,"sine",.05);break;case"munch":this.tone(180,0,.07,"triangle",.04),this.tone(320,.03,.04,"triangle",.025);break}}tone(e,n,o,r,i=.12){const s=this.ctx.currentTime+n,a=this.ctx.createOscillator(),l=this.ctx.createGain();a.type=r,a.frequency.value=e,l.gain.value=i,a.connect(l).connect(this.ctx.destination),a.start(s),a.stop(s+o),l.gain.setValueAtTime(i,s),l.gain.linearRampToValueAtTime(1e-4,s+o),a.onended=()=>{a.disconnect(),l.disconnect()}}noise(e,n=.02){const o=this.ctx.currentTime,r=this.ctx.createBuffer(1,this.ctx.sampleRate*e,this.ctx.sampleRate),i=r.getChannelData(0);for(let l=0;l<i.length;l++)i[l]=(Math.random()*2-1)*.7;const s=this.ctx.createBufferSource();s.buffer=r;const a=this.ctx.createGain();a.gain.value=n,s.connect(a).connect(this.ctx.destination),s.start(o),s.stop(o+e),a.gain.setValueAtTime(n,o),a.gain.linearRampToValueAtTime(1e-4,o+e),s.onended=()=>{s.disconnect(),a.disconnect()}}slide(e,n,o,r,i=.035){const s=this.ctx.currentTime,a=this.ctx.createOscillator(),l=this.ctx.createGain();a.type=r,a.frequency.setValueAtTime(e,s),a.frequency.linearRampToValueAtTime(n,s+o),l.gain.value=i,a.connect(l).connect(this.ctx.destination),a.start(s),a.stop(s+o),l.gain.setValueAtTime(i,s),l.gain.linearRampToValueAtTime(1e-4,s+o),a.onended=()=>{a.disconnect(),l.disconnect()}}}const R=new ee,J=Object.freeze(Object.defineProperty({__proto__:null,SynthSFX:ee,synthSFX:R},Symbol.toStringTag,{value:"Module"}));class w{static renderOptionsVertical(e,n,o,r=[]){n.forEach((i,s)=>{const a=document.createElement("button");a.innerText=i,a.classList.add(...r),a.classList.add("fade-in"),a.style.display="block",a.style.width="100%",a.style.margin="0.5rem 0",a.style.fontSize="2.2rem",a.onclick=()=>{R.play("click"),o(i,s,a)},e.appendChild(a)})}static addChild(e,n,o,r){const i=document.createElement(n);if(i.id=o,r){let s={};r.style&&typeof r.style=="object"&&(s={...r.style}),["top","left","width","height","fontSize"].forEach(a=>{r[a]!==void 0&&(s[a]=r[a])}),Object.assign(i.style,s),r.classes&&i.classList.add(...r.classes),r.text&&(i.innerText=r.text)}return e.appendChild(i),i}}function ue(t){if(!t||t.length===0){D(async()=>{const{showConfirmModal:i}=await Promise.resolve().then(()=>ie);return{showConfirmModal:i}},void 0,import.meta.url).then(({showConfirmModal:i})=>{i({message:"No unanswered questions to show.",buttons:{OK:()=>{}}})});return}const e=w.addChild(document.body,"div","dict-overlay",{classes:["dict-overlay"],onclick:()=>document.body.removeChild(e)}),n=w.addChild(e,"div","dict-modal",{classes:["dict-modal"]});w.addChild(n,"h2","dict-title",{text:"Unanswered Words",style:{textAlign:"center",marginBottom:"1.2rem"}});const o=w.addChild(n,"table","dict-table",{style:{width:"100%",borderCollapse:"collapse"}});o.innerHTML="<thead><tr><th style='padding:0.3rem 1.2rem;max-width:20ch;width:20ch;'>Hungarian</th><th style='padding:0.3rem 1.2rem;max-width:20ch;width:20ch;'>English</th></tr></thead><tbody></tbody>",t.forEach(i=>{const s=document.createElement("tr");s.innerHTML=`<td style='padding:0.3rem 1.2rem;max-width:20ch;width:20ch;overflow:hidden;text-overflow:ellipsis;'>${i.hungarian}</td><td style='padding:0.3rem 1.2rem;max-width:20ch;width:20ch;overflow:hidden;text-overflow:ellipsis;'>${i.english}</td>`,o.querySelector("tbody").appendChild(s)});const r=w.addChild(n,"button","dict-close-btn",{text:"✖",style:{position:"absolute",top:"0.7rem",right:"0.7rem",background:"none",border:"none",fontSize:"1.3rem",cursor:"pointer"}});r.onclick=i=>{i.stopPropagation(),e.parentNode&&e.parentNode.removeChild(e)},e.appendChild(n),document.body.appendChild(e)}const fe=["🟡 sárga","yellow","🔴 piros","red","🔵 kék","blue","🟢 zöld","green","🟠 narancssárga","orange","⚫ fekete","black","⚪ fehér","white","🤎 barna","brown","🌸 rózsaszín","pink","🟣 lila","purple","⚪️ szürke","grey","🗓️ hétfő","Monday","🗓️ kedd","Tuesday","🗓️ szerda","Wednesday","🗓️ csütörtök","Thursday","🗓️ péntek","Friday","🗓️ szombat","Saturday","🗓️ vasárnap","Sunday","🔦 zseblámpa","torch","⌚ karóra","watch","📷 fényképezőgép","camera","🗺️ térkép","map","🌧️ esik (eső) **","raining","💨 szeles **","windy","❄️ havazik **","snowing","☀️ napos **","sunny","🏐 labda **","ball","🛴 roller **","scooter","🧸 baba **","doll","🌳 fa","tree","⛰️ hegy","mountain","🏠 ház","house","🌺 virág","flower","🏞️ tó","lake","🐦 madár","bird","1️⃣ egy","one","2️⃣ kettő","two","3️⃣ három","three","4️⃣ négy","four","5️⃣ öt","five","6️⃣ hat","six","7️⃣ hét (7)","seven","8️⃣ nyolc","eight","9️⃣ kilenc","nine","🔟 tíz","ten","1️⃣1️⃣ tizenegy","eleven","1️⃣2️⃣ tizenkettő","twelve","1️⃣3️⃣ tizenhárom","thirteen","1️⃣4️⃣ tizennégy","fourteen","1️⃣5️⃣ tizenöt","fifteen","1️⃣6️⃣ tizenhat","sixteen","1️⃣7️⃣ tizenhét","seventeen","1️⃣8️⃣ tizennyolc","eighteen","1️⃣9️⃣ tizenkilenc","nineteen","2️⃣0️⃣ húsz","twenty"],he=["☁","Felhő","☂","Esernyő","⭐","Csillag","🐭","Egér","🌲","Fa","🌍","Föld","🐜","Hangya","🌙","Hold","🐴","Ló","🐱","Macska","🐝","Méh","☀","Nap","🐰","Nyúl","🦔","Sün","🦌","Szarvas","🐯","Tigris","🦓","Zebra","🌈","Szivárvány","🌴","Pálmafa","🌵","Kaktusz","🌷","Tulipán","🌹","Rózsa","🍄","Gomba","🐄","Tehén","🐋","Bálna","🐌","Csiga","🐍","Kígyó","🐐","Kecske","🐒","Majom","🐔","Csirke","🐕","Kutya","🐖","Malac","🐘","Elefánt","🐙","Polip","🐟","Hal","🐢","Teknős","🐧","Pingvin","🐪","Teve","🐬","Delfin","🐷","Malac","🐸","Béka","🐺","Farkas","🐻","Medve","🐼","Panda","🔥","Tűz","🕷","Pók","🦀","Rák","🦁","Oroszlán","🦇","Denevér","🦉","Bagoly","🦊","Róka","🦋","Pillangó","🦒","Zsiráf","🦜","Papagáj","🦡","Borz","🦢","Hattyú","✋","Kéz","🧠","Agy","👂","Fül","👁️","Szem","👄","Száj","👶","Baba","🦷","Fog","🦴","Csont","👟","Cipő","👑","Korona","👢","Csizma","💍","Gyűrű","🍇","Szőlő","🍌","Banán","🍍","Ananász","🍎","Alma","🍓","Eper","🥨","Perec","🍕","Pizza","🥄","Kanál","❤️","Szív","🔪","Kés","🗺️","Térkép","🎈","Lufi","📺","Tévé","✏️","Ceruza","🔨","Kalapács","🛏️","Ágy","🪑","Szék","🚪","Ajtó","🧹","Seprű"],ye=["👋 szia","hello","👋 viszlát","goodbye","🙏 kérem","please","🙏 köszönöm","thank you","👍 igen","yes","👎 nem","no","👨 férfi","man","👩 nő","woman","🧒 fiú","boy","👧 lány","girl","🐶 kutya","dog","🐱 macska","cat","💧 víz","water","🍽️ étel","food","🏠 ház","house","🏫 iskola","school","📖 könyv","book","🖊️ toll","pen","🚗 autó","car","🚌 busz","bus","🤝 barát","friend","👨‍👩‍👧‍👦 család","family","👩 anya","mother","👨 apa","father","🧒 gyerek","child","🌞 nap / nappal","day","🌙 éjjel","night","🌅 reggel","morning","🌆 este","evening","😃 boldog","happy","😢 szomorú","sad"],j="quiz-marks";function pe(){try{const t=JSON.parse(localStorage.getItem(j)||"[]");return Array.isArray(t)?t:[]}catch{return[]}}function ge(t){let e=[];try{e=JSON.parse(localStorage.getItem(j)||"[]"),Array.isArray(e)||(e=[])}catch{e=[]}e.unshift(t),localStorage.setItem(j,JSON.stringify(e.slice(0,100)))}function be(){const t=document.getElementById("marks-modal");t&&t.remove();const e=document.createElement("div");e.id="marks-modal",e.className="marks-overlay";const n=document.createElement("div");n.className="marks-modal";const o=document.createElement("button");o.innerText="✖",o.className="marks-close-btn",o.onclick=()=>e.remove(),n.appendChild(o);const r=document.createElement("h2");r.innerText="My Marks / Results",r.className="marks-title",n.appendChild(r);const i=pe();if(i.length===0){const s=document.createElement("div");s.innerText="No marks/results yet.",s.className="marks-empty",n.appendChild(s)}else{const s=document.createElement("table");s.className="marks-table",s.innerHTML=`<thead><tr>
            <th>Date</th>
            <th>Mark</th>
            <th>%</th>
            <th>Topic</th>
            <th>Type</th>
            <th>Q</th>
        </tr></thead><tbody></tbody>`;const a=s.querySelector("tbody");i.forEach(l=>{const k=document.createElement("tr");k.innerHTML=`
                <td class="marks-date">${l.date+(l.time?"  "+l.time:"")}</td>
                <td class="marks-mark">${l.mark}</td>
                <td class="marks-percent">${l.percent}%</td>
                <td class="marks-topic">${l.topicLabel}</td>
                <td class="marks-mode">${l.mode}</td>
                <td class="marks-questions">${l.questions}</td>
            `,a.appendChild(k)}),n.appendChild(s)}e.appendChild(n),document.body.appendChild(e)}function te(t){return t>=91?5:t>=81?4:t>=71?3:t>=51?2:1}function we(t){return t<1&&(t=1),t>5&&(t=5),String.fromCharCode(9312+t-1)}function K(){let t=c.score[0]+c.score[1]+c.score[2];const e=document.getElementById("anim-div");e.innerHTML="",e.style.visibility="visible";let n=c.ROUNDS*3,o=0;const r=w.addChild(e,"div","score-percent",{left:"5%",top:"15%",fontSize:"20px",classes:["abs"]});r.innerText="0%";function i(){const d=Math.round(100*o/n);r.innerText=d+"%";const h=15,u=5,p=u+(h-u)*(o/n);if(k.innerText=p.toFixed(1)+" kg",c.rabbitSize=30+30*(p-u)/(h-u),l.style.fontSize=c.rabbitSize+"px",t<=0){for(let m=0;m<c.ROUNDS*3;m++){const y=document.getElementById(`edible-${m}`);y&&(y.style.transition="transform 0.5s cubic-bezier(.2,1.8,.5,1), opacity 0.5s, border-radius 0.5s",y.style.borderRadius="50%",y.style.transform="scale(1.2)",y.style.opacity="0.7",setTimeout(()=>{y.style.transform="scale(0)",y.style.opacity="0"},400))}setTimeout(()=>{D(()=>Promise.resolve().then(()=>J),void 0,import.meta.url).then(E=>E.synthSFX.play("end"));const m=w.addChild(e,"div","anim-overlay",{classes:["anim-overlay"]}),y=w.addChild(m,"div","anim-doc",{text:"📄",classes:["anim-doc"]}),v=Math.round(100*o/n);w.addChild(y,"div","anim-percent-on-doc",{text:v+"%",classes:["anim-percent-on-doc"]});const f=te(v),g=we(f),b=w.addChild(y,"div","anim-grade",{text:g,classes:["anim-grade"]});b.style.animation="gradePop 1.1s cubic-bezier(.22,1,.36,1) forwards";const L=w.addChild(b,"div","anim-sparkle",{text:"✨",classes:["anim-sparkle"]});if(L.style.animation="sparklePop 1.1s 0.2s ease-out forwards",v===100||f===5)for(let E=0;E<24;E++){const C=document.createElement("div");C.innerText=["🎉","✨","🎊","⭐","💫"][E%5],C.style.position="absolute",C.style.left=20+Math.random()*60+"%",C.style.top=10+Math.random()*40+"%",C.style.fontSize=2+Math.random()*2+"rem",C.style.opacity="0.85",C.style.pointerEvents="none",C.style.transition="transform 1.2s cubic-bezier(.22,1,.36,1), opacity 1.2s",C.style.transform=`translateY(-40px) scale(${.7+Math.random()*.7}) rotate(${Math.random()*360}deg)`,m.appendChild(C),setTimeout(()=>{C.style.transform=`translateY(${60+Math.random()*60}px) scale(${.7+Math.random()*.7}) rotate(${Math.random()*360}deg)`,C.style.opacity="0"},60),setTimeout(()=>C.remove(),1400+Math.random()*300)}if(!document.getElementById("grade-anim-style")){const E=document.createElement("style");E.id="grade-anim-style",E.innerHTML=`
                        @keyframes gradePop {
                            0% { transform: scale(0) rotate(-180deg); opacity: 0.7; }
                            60% { transform: scale(1.25) rotate(10deg); opacity: 1; }
                            80% { transform: scale(0.95) rotate(-5deg); opacity: 1; }
                            100% { transform: scale(1) rotate(0deg); opacity: 1; }
                        }
                        @keyframes sparklePop {
                            0% { opacity: 0; transform: scale(0.2) rotate(-30deg); }
                            60% { opacity: 1; transform: scale(1.2) rotate(10deg); }
                            100% { opacity: 0; transform: scale(1.5) rotate(0deg); }
                        }
                        `,document.head.appendChild(E)}const x=w.addChild(y,"div","anim-stamp",{text:"✔️",classes:["anim-stamp"]});if(x.style.animation="stampPop 1.1s 0.5s cubic-bezier(.22,1,.36,1) forwards",!document.getElementById("stamp-anim-style")){const E=document.createElement("style");E.id="stamp-anim-style",E.innerHTML=`
                        @keyframes stampPop {
                            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.2) rotate(-30deg); }
                            60% { opacity: 1; transform: translate(-50%, -50%) scale(1.2) rotate(10deg); }
                            80% { opacity: 1; transform: translate(-50%, -50%) scale(0.95) rotate(-5deg); }
                            100% { opacity: 0.85; transform: translate(-50%, -50%) scale(1) rotate(0deg); }
                        }
                        `,document.head.appendChild(E)}y.appendChild(b),y.appendChild(x),m.appendChild(y),w.addChild(m,"div","anim-msg",{text:"Kattints vagy érints a folytatáshoz",classes:["anim-msg"]});const S=w.addChild(m,"button","anim-share-btn",{text:"Megosztás eredményem 📤",classes:["anim-share-btn"]});S.onpointerdown=()=>S.style.background="#d2e0f7",S.onpointerup=()=>S.style.background="linear-gradient(90deg,#e0eafc,#cfdef3)",S.onclick=async E=>{E.stopPropagation();const C=`📄 ${v}%  Osztályzat: ${g}  ✔️
Próbáld ki te is!`;if(navigator.share)try{await navigator.share({title:"Eredményem",text:C})}catch{}else if(navigator.clipboard)try{await navigator.clipboard.writeText(C),S.innerText="Másolva! 📋",setTimeout(()=>S.innerText="Megosztás eredményem 📤",1500)}catch{}},e.appendChild(m);function I(){e.style.visibility="hidden",c.resetScore(),c.updateScore(),m.removeEventListener("click",I),m.removeEventListener("touchstart",I),typeof window.showStartupScreen=="function"?window.showStartupScreen():window.location.reload()}m.addEventListener("click",I),m.addEventListener("touchstart",I)},1e3)}}const s=w.addChild(e,"button","eat-all-btn",{text:"🐇 Eat all",top:"5%",left:"5%",classes:[]});s.style.position="absolute",s.style.zIndex="10",s.style.fontSize="2.5rem",s.style.padding="1rem 2.5rem";function a(d,h,u){const p=d.getBoundingClientRect(),m=e.getBoundingClientRect(),y=p.left-m.left,v=p.top-m.top;y>parseFloat(l.style.left.replace("px","")||"0")?l.classList.add("look-right"):l.classList.remove("look-right"),l.style.transition="left 0.12s cubic-bezier(.22,1,.36,1), top 0.12s cubic-bezier(.22,1,.36,1)",l.style.left=y+"px",l.style.top=v+"px",setTimeout(()=>{h&&(D(()=>Promise.resolve().then(()=>J),void 0,import.meta.url).then(f=>f.synthSFX.play("munch")),t--,o++),d.innerText="",i(),u&&u()},120)}s.onclick=()=>{s.disabled=!0;let d=0;function h(){if(d>=c.ROUNDS*3)return;const u=document.getElementById(`edible-${d}`);if(!u||u.innerText===""||u.innerText==="🍽️"){d++,h();return}a(u,(3-Math.floor(d/c.ROUNDS))*2,()=>{d++,setTimeout(h,100)})}h()},c.rabbitSize=30;const l=w.addChild(e,"div","rabbit",{text:"🐇",left:"50%",top:"20%",classes:["abs"]}),k=w.addChild(e,"div","weight",{left:"50%",top:"10%",fontSize:"20px",classes:["abs"]});for(let d=0;d<c.ROUNDS*3;d++){const h=Math.floor(d/c.ROUNDS),u=d%c.ROUNDS;let p=(3-h)*2,m=c.FOODS[h];c.score[h]<=u&&(m="🍽️",p=0);const y=Math.floor(u/c.ROUNDS*80)+"%",v=Math.floor(h/3*50)+d%2*5+"%",f=w.addChild(e,"div",`edible-${d}`,{text:m,top:y,left:v,classes:["abs"]});f.addEventListener("click",()=>{f.innerText===""||f.innerText==="🍽️"||a(f,p)})}i()}function W({userAnswer:t,solution:e,feedbackElem:n,nextQuestion:o,onCorrect:r,onIncorrect:i,compare:s=(a,l)=>a.trim().toLowerCase()===l.trim().toLowerCase()}){if(s(t,e)){n.innerText="✅ Correct!",n.style.color="green",R.play("correct"),Z("🎉","#3c3",n);for(let a=0;a<c.currentScore;a++)c.score[a]++;c.updateScore(),r&&r(),o()}else n.innerText="❌ Try again!",n.style.color="red",R.play("wrong"),Z("😢","#d22",n),c.currentScore--,c.updateScore(),i&&i(),c.currentScore<=0&&o()}function ne({questionDiv:t,iconDiv:e,solutionId:n,format:o,questionIdx:r,answerIdx:i,possibleFilter:s}){const a=T.length>>1,l=Math.floor(Math.random()*a),k=T[l*2+r],d=T[l*2+i],h=T.filter(s),u=[];for(let f=0;f<c.SOLUTION_OPTIONS;f++)for(;;){const g=Math.floor(Math.random()*a),b=n===f,L=b?d:h[g];if(!(!b&&L===d)&&!(u.indexOf(L)>=0)){u.push(L);break}}G(),Se(t,e,k);const p=q();function m(){X(1e3)}const y=ve({isCorrect:(f,g)=>f===g,onCorrect:()=>{},onIncorrect:()=>{},feedbackElem:p,nextQuestion:m});w.renderOptionsVertical(t,u,(f,g,b)=>{b.disabled=!0,y(f,d)},o);const v=document.createElement("div");v.innerText="",v.style.fontWeight="bold",v.style.margin="1rem 0 0.5rem 0",t.insertBefore(v,t.firstChild),t.appendChild(p)}function Z(t,e,n){const o=document.createElement("div");o.innerText=t,o.className="emoji-reaction";const r=n.getBoundingClientRect();o.style.left=r.left+r.width/2+window.scrollX+"px",o.style.top=r.top-24+window.scrollY+"px",o.style.textShadow=`0 2px 8px #fff, 0 0 2px ${e}`,o.style.position="absolute",o.style.zIndex="9999",document.body.appendChild(o),setTimeout(()=>{o.style.transform="translate(-50%, -60px) scale(1.5)",o.style.opacity="0"},30),setTimeout(()=>{o.remove()},950)}function G(){c.currentScore=3,c.updateScore()}function Se(t,e,n){t.innerHTML="",t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.style.justifyContent="center",e.innerText=n,e.style.fontSize="40px"}function q(){const t=document.createElement("div");return t.style.marginTop="1rem",t.style.fontSize="1.2rem",t}function X(t=1e3){setTimeout(()=>{typeof window.chooseFromList=="function"&&window.chooseFromList()},t)}function ve({isCorrect:t,onCorrect:e,onIncorrect:n,feedbackElem:o,nextQuestion:r}){return(i,s)=>{W({userAnswer:i,solution:s,feedbackElem:o,nextQuestion:r,onCorrect:e,onIncorrect:n,compare:t})}}function _(t,e,n,o){ne({questionDiv:t,iconDiv:e,solutionId:n,format:o,questionIdx:1,answerIdx:0,possibleFilter:(r,i)=>i%2===0})}function H(t,e,n,o){ne({questionDiv:t,iconDiv:e,solutionId:n,format:o,questionIdx:0,answerIdx:1,possibleFilter:(r,i)=>i%2===1})}const $=[];function z(t,e,n,o,r){const i=T.length>>1,s=Math.floor(Math.random()*i),a=T[s*2],l=T[s*2+1];G(),t.innerHTML="",e.innerText=a,e.style.fontSize="40px",t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.style.justifyContent="center";const k=w.addChild(t,"input","input-english",{style:{fontSize:"2rem",padding:"0.5rem 1rem",border:"2px solid #888",borderRadius:"8px",margin:"1rem 0",textAlign:"center",outline:"none"},placeholder:"Type the English word...",type:"text",autofocus:!0}),d=w.addChild(t,"button","submit-btn",{style:{fontSize:"1.5rem",marginLeft:"1rem"},text:"Check"}),h=q();setTimeout(()=>{k.focus(),k.scrollIntoView({behavior:"smooth",block:"center"})},0);const u=()=>{X(1e3)},p=()=>{W({userAnswer:k.value,solution:l,feedbackElem:h,nextQuestion:u,onIncorrect:()=>{$.some(m=>m.hungarian===a&&m.english===l)||$.push({hungarian:a,english:l})}})};d.onclick=p,k.addEventListener("keydown",m=>{m.key==="Enter"&&p()}),t.appendChild(h),window.unansweredInputPairs=$}function F(t,e,n,o,r){const i=T.length>>1,s=Math.floor(Math.random()*i),a=T[s*2],l=T[s*2+1];function k(p,m){let y;for(;!y||y==p;){const x=c.rnd(1,2);y=p;for(let S=0;S<x;S++){const I=c.rnd(0,y.length-1);y=p.slice(0,I)+c.rndLetter().toLowerCase()+p.slice(I)}}const v=[[/w/g,"v"],[/v/g,"w"],[/th/g,"s"],[/th/g,"d"],[/ee/g,"i"],[/i/g,"y"],[/y/g,"i"],[/i/g,"ee"],[/x/g,"ks"],[/oo/g,"u"],[/u/g,"oo"],[/ay/g,"ey"],[/ey/g,"ay"],[/c/g,"k"],[/k/g,"c"],[/ph/g,"f"],[/f/g,"ph"],[/ou/g,"ow"],[/ow/g,"ou"],[/a/g,"e"],[/e/g,"a"],[/s/g,"z"],[/z/g,"s"],[/ie/g,"ei"],[/ei/g,"ie"],[/ll/g,"l"],[/ou/g,"uo"],[/uo/g,"ou"],[/ck/g,"k"],[/k/g,"ck"],[/tt/g,"t"],[/ss/g,"s"],[/nn/g,"n"],[/o/g,"u"],[/u/g,"o"],[/d/g,"t"],[/t/g,"d"],[/m/g,"n"],[/n/g,"m"],[/p/g,"b"]];function f(x){const S=c.rnd(1,2);for(let I=0;I<S;I++){const E=v.filter(([ce])=>ce.test(x));if(E.length===0)return x;let[C,ae]=E[c.rnd(0,E.length-1)];x=x.replace(C,ae)}return x}let g=new Set,b=0;for(;g.size<5&&b<50;){let x=f(p.toLowerCase());x!==p.toLowerCase()&&g.add(x),b++}for(;g.size<5;){let x=p.toLowerCase().split("");const S=c.rnd(0,x.length-1);x[S]=c.rndLetter().toLowerCase();let I=x.join("");I!==p.toLowerCase()&&g.add(I)}const L=Array.from(g);for(L[m]=p.toLowerCase();L.length<5;)L.push(p.toLowerCase());return c.shuffle(L)}G(),t.innerHTML="",t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.style.justifyContent="center",e.innerText=a,e.style.fontSize="40px";const d=q();function h(){X(1e3)}const u=k(l,o);w.renderOptionsVertical(t,u,(p,m,y)=>{y.disabled=!0,W({userAnswer:p,solution:l.toLowerCase(),feedbackElem:d,nextQuestion:h,compare:(v,f)=>v===f})},r),t.appendChild(d)}window.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("dictionary-btn");t&&(t.onclick=()=>{const e=window.unansweredInputPairs;ue(e||[])})});function oe(){let t=document.getElementById("sfx-btn");t||(t=w.addChild(document.body,"button","sfx-btn",{style:{position:"fixed",bottom:"1.5rem",right:"1.5rem",zIndex:"200",fontSize:"2.2rem",padding:"0.7rem 1.5rem",borderRadius:"1.5rem",background:"linear-gradient(90deg,#e0eafc,#cfdef3)",border:"none",boxShadow:"0 2px 8px #bbb",cursor:"pointer",transition:"background 0.2s",display:"block"}}),t.onclick=re),Q()}const se={"words-num-col-eng-1":"Colors, Numbers, Days (EN-HU)","words-hun-spell":"Hungarian Spelling (Animals, Nature)","words-popular-eng-basic":"Popular Basic English Words"};let N="words-num-col-eng-1";const V={"words-num-col-eng-1":fe,"words-hun-spell":he,"words-popular-eng-basic":ye};let T=V[N];window.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("back-to-menu-btn");t&&(t.onclick=()=>{D(async()=>{const{showConfirmModal:o}=await Promise.resolve().then(()=>ie);return{showConfirmModal:o}},void 0,import.meta.url).then(({showConfirmModal:o})=>{o({message:"Do you want to return to the main menu? Your current game will be lost.",buttons:{OK:U,Cancel:()=>{}}})})});const e=document.getElementById("topic-selector");e&&(e.innerHTML="",Object.entries(se).forEach(([o,r])=>{const i=w.addChild(e,"option",`label-${o}`,{text:r});i.value=o}),e.value=N,e.onchange=()=>{N=e.value,T=V[N],U()});const n=document.getElementById("marks-menu-btn");n&&(n.onclick=be),T=V[N],oe()});let P=!0;function Q(){const t=document.getElementById("sfx-btn");t&&(t.innerText=P?"🔊 SFX On":"🔇 SFX Off",t.setAttribute("aria-pressed",P?"true":"false")),R.setEnabled(P)}function re(){P=!P,Q()}window.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("sfx-btn");t&&(t.onclick=re,Q());const e=document.getElementById("fullscreen-btn");e&&(e.onclick=()=>{const n=document.documentElement;document.fullscreenElement?document.exitFullscreen():n.requestFullscreen&&n.requestFullscreen()})});let O=[],B=0;const xe=[{fn:_,name:"EN → HU (Pick)",icon:"🌟"},{fn:H,name:"HU → EN (Pick)",icon:"🔤"},{fn:z,name:"Fill Out (EN)",icon:"⌨️"},{fn:F,name:"Similar Words",icon:"🧩"},{fn:"fun20",name:"Fun: 20 Mixed",icon:"🎲"},{fn:"test30",name:"Test: 30 Fill Out",icon:"📝"}];let M=null;function A(){if(c.round++,c.round>c.ROUNDS){const r=c.ROUNDS*3,i=c.score.reduce((m,y)=>m+y,0),s=Math.round(i/r*100),a=te(s),l=N,k=se[l]||l;let d="";M===_?d="EN→HU (Pick)":M===H?d="HU→EN (Pick)":M===z&&c.ROUNDS===30?d="Test: 30 Fill Out":M===z?d="Fill Out (EN)":M===F?d="Similar Words":M==null&&O&&O.length?d="Fun: 20 Mixed":d="Other";const h=new Date,u=m=>m.toString().padStart(2,"0"),p={date:h.toISOString().slice(0,10),time:u(h.getHours())+":"+u(h.getMinutes()),percent:s,mark:a,topic:l,topicLabel:k,questions:c.ROUNDS,mode:d};ge(p),K();return}c.updateScore(),c.currentScore=3;const t=document.getElementById("progress-bar-container"),e=document.getElementById("progress-bar");if(t&&e){t.style.display="block";const r=(c.round-1)/c.ROUNDS*100;e.style.width=r+"%"}const n=document.getElementById("question"),o=document.getElementById("icon");if(!(!n||!o)&&(n.classList.remove("fade-in"),n.offsetWidth,n.classList.add("fade-in"),!!M)){if(M===_)M(n,o,Math.floor(Math.random()*c.SOLUTION_OPTIONS),["button-icons"]);else if(M===H)M(n,o,Math.floor(Math.random()*c.SOLUTION_OPTIONS),["button","block"]);else if(M===z){const r=T.length>>1,i=Math.floor(Math.random()*r),s=T[i*2+1];M(n,o,s,0,[])}else if(M===F){const r=T.length>>1,i=Math.floor(Math.random()*r),s=T[i*2+1];M(n,o,s,Math.floor(Math.random()*c.SOLUTION_OPTIONS),["button","block"])}}}function U(){const t=document.getElementById("back-to-menu-btn");t&&(t.style.display="none");const e=document.getElementById("topic-selector");e&&(e.disabled=!1);const n=document.getElementById("menu-title");n&&(n.style.display="block",n.style.cursor="pointer",n.title="Teszteld az end screen-t!",n.onclick=()=>{c.ROUNDS=10,c.score=[9,5,3],K()}),document.body.classList.remove("question-active"),document.body.classList.add("menu-bg-gradient");const o=document.getElementById("progress-bar-container"),r=document.getElementById("progress-bar");o&&r&&(o.style.display="none",r.style.width="0%");const i=document.getElementById("score");i&&(i.innerHTML="");const s=document.getElementById("round");s&&(s.innerHTML="");const a=document.getElementById("remaining");a&&(a.innerHTML="");const l=document.getElementById("stats");l&&(l.style.minHeight="0"),oe();const k=document.getElementById("question"),d=document.getElementById("icon");k&&(k.innerHTML=""),d&&(d.innerHTML="");const h=document.getElementById("label"),u=document.getElementById("mode-div");u.innerHTML="<div></div>",u.style.display="block",u.style.display="flex",u.style.flexDirection="column",u.style.alignItems="center",u.style.marginTop="0.7rem",xe.forEach(f=>{const g=document.getElementById("menu-title"),b=document.createElement("button");b.innerText=`${f.icon}  ${f.name}`,b.className="button fade-in",b.style.fontSize="1.25rem",b.style.whiteSpace="nowrap",b.style.overflow="hidden",b.style.textOverflow="ellipsis",b.style.maxWidth="90vw",b.onclick=()=>{if(f.fn==="fun20"){M=null,h&&(h.innerHTML=""),u.innerHTML="<div></div>",g&&(g.style.display="block"),document.body.classList.remove("question-active"),document.body.classList.add("menu-bg-gradient");const S=document.getElementById("topic-selector");S&&(S.disabled=!0),p();return}if(f.fn==="test30"){M=z,h&&(h.innerHTML=""),u.innerHTML="<div></div>",g&&(g.style.display="none"),document.body.classList.add("question-active"),document.body.classList.remove("menu-bg-gradient");const S=document.getElementById("topic-selector");S&&(S.disabled=!0),c.resetScore(),c.ROUNDS=30,A();return}new MutationObserver(()=>{const S=document.getElementById("back-to-menu-btn");S&&(document.body.classList.contains("question-active")?S.style.display="":S.style.display="none")}).observe(document.body,{attributes:!0,attributeFilter:["class"]}),M=f.fn,h&&(h.innerHTML=""),u.style.display="none",g&&(g.style.display="none"),document.body.classList.add("question-active"),document.body.classList.remove("menu-bg-gradient");const x=document.getElementById("topic-selector");x&&(x.disabled=!0),c.resetScore(),c.ROUNDS=10,A(),g&&(g.style.display="none"),document.body.classList.add("question-active")},u.appendChild(b)});function p(){O=[];for(let f=0;f<5;f++)O.push({fn:_}),O.push({fn:H}),O.push({fn:z}),O.push({fn:F});for(let f=O.length-1;f>0;f--){const g=Math.floor(Math.random()*(f+1));[O[f],O[g]]=[O[g],O[f]]}B=0,c.resetScore(),c.ROUNDS=20,m()}function m(){if(B>=20){K();return}c.round=B+1,c.updateScore(),c.currentScore=3;const f=document.getElementById("question"),g=document.getElementById("icon");if(!f||!g)return;const b=O[B];if(B++,b.fn===z){const L=T.length>>1,x=Math.floor(Math.random()*L),S=T[x*2+1];b.fn(f,g,S,0,[])}else if(b.fn===F){const L=T.length>>1,x=Math.floor(Math.random()*L),S=T[x*2+1];b.fn(f,g,S,Math.floor(Math.random()*c.SOLUTION_OPTIONS),["button","block"])}else b.fn===_?b.fn(f,g,Math.floor(Math.random()*c.SOLUTION_OPTIONS),["button-icons"]):b.fn===H?b.fn(f,g,Math.floor(Math.random()*c.SOLUTION_OPTIONS),["button","block"]):b.fn(f,g,Math.floor(Math.random()*c.SOLUTION_OPTIONS),["button","block"])}const y=A;function v(){if(O.length&&B<20){m();return}y()}window.chooseFromList=v}window.chooseFromList=A;window.showStartupScreen=U;window.addEventListener("DOMContentLoaded",U);function ke({message:t,buttons:e}){const n=w.addChild(document.body,"div","confirm-overlay",{classes:["confirm-overlay"]}),o=w.addChild(n,"div","confirm-modal",{classes:["confirm-modal"]});w.addChild(o,"div","confirm-message",{text:t,style:{fontSize:"1.2rem",marginBottom:"1.5rem"}});const r=w.addChild(o,"div","confirm-btn-row",{style:{display:"flex",justifyContent:"center",gap:"1.5rem"}});Object.entries(e).forEach(([i,s],a)=>{const l=w.addChild(r,"button",`confirm-btn-${a}`,{text:i,classes:["confirm-btn"],style:{background:i==="No"?"#f8d7da":"#e0eafc"}});l.onclick=()=>{document.body.removeChild(n),s()}})}const ie=Object.freeze(Object.defineProperty({__proto__:null,showConfirmModal:ke},Symbol.toStringTag,{value:"Module"}));</script>
      <style rel="stylesheet" crossorigin>.bottom-bar-btn{min-width:3.2rem;min-height:2.2rem;padding:.7rem 1.7rem;box-sizing:border-box}@media (max-width: 600px){.bottom-bar-btn{min-width:2.2rem!important;min-height:2.2rem!important;padding:.3rem .7rem!important}}.bottom-bar{position:fixed;bottom:0;left:0;width:100vw;display:grid;grid-template-columns:auto auto 1fr auto auto auto auto;align-items:center;gap:1.2rem;padding:1.2rem;background:#fffffff2;z-index:210;box-shadow:0 -2px 8px #eee}.bottom-bar-btn{font-size:1.125rem;padding:.7rem 1.7rem;border-radius:1.2rem;border:1px solid #bbb;background:linear-gradient(90deg,#e0eafc,#cfdef3);box-shadow:0 2px 8px #eee;cursor:pointer;transition:background .2s;min-width:3.2rem;margin:0;display:block;font-weight:400}.bottom-bar-btn:active,.bottom-bar-btn:focus{outline:none;box-shadow:0 0 0 2px #b0b0b0,0 2px 8px #eee}.bottom-bar-select{font-size:1.125rem;padding:.7rem 1.7rem;border-radius:1.2rem;border:1px solid #bbb;box-shadow:0 2px 8px #eee;width:100%;max-width:320px;min-width:9rem;margin:0;display:block}@media (max-width: 600px){.bottom-bar{gap:.3rem!important;padding:.3rem!important}.bottom-bar-btn,.bottom-bar-select{font-size:.85rem!important;padding:.3rem!important;min-width:32px!important;min-height:32px!important;border-radius:.7rem!important;margin:0!important;box-shadow:0 1px 3px #eee!important;width:100%!important;max-width:100%!important}.bottom-bar-select{min-width:90px!important;max-width:220px!important;width:38vw!important;font-size:.95rem!important;padding:.3rem .7rem!important}.bottom-bar-btn .material-icons{font-size:1.1rem!important}}.anim-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:#ffffffd9;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:2.5rem;z-index:100}.anim-doc{font-size:10rem;position:relative;display:flex;justify-content:center;align-items:center;width:12rem;height:12rem;margin-bottom:1.5rem;filter:drop-shadow(0 0 10px #eee)}.anim-percent-on-doc{position:absolute;top:50%;left:50%;transform:translate(-50%,-70%);font-size:3.5rem;font-weight:700;color:#222;text-shadow:0 2px 8px #fff,0 0 2px #aaa}.anim-grade{position:absolute;bottom:10%;right:10%;font-size:4.5rem;color:#d22;text-shadow:0 2px 8px #fff,0 0 2px #aaa;font-weight:700;transform:scale(0) rotate(-180deg);opacity:.7}.anim-sparkle{position:absolute;top:-1.2rem;left:-1.2rem;font-size:2.2rem;opacity:0;pointer-events:none}.anim-stamp{position:absolute;left:50%;top:70%;transform:translate(-50%,-50%) scale(.2) rotate(-30deg);font-size:3.5rem;color:#2a8;opacity:.7;text-shadow:0 2px 8px #fff,0 0 2px #aaa;pointer-events:none}.anim-msg{margin-top:2.5rem;font-size:1.2rem;color:#333}.anim-share-btn{margin-top:1.5rem;font-size:1.5rem;padding:.7rem 2.2rem;border-radius:1.5rem;background:linear-gradient(90deg,#e0eafc,#cfdef3);border:none;box-shadow:0 2px 8px #bbb;cursor:pointer;transition:background .2s}.anim-share-btn:active{background:#d2e0f7}.confirm-btn{font-size:1.1rem;padding:.7rem 2.2rem;border-radius:.8rem;border:1px solid #bbb;cursor:pointer;transition:background .2s,box-shadow .2s;min-width:44px;min-height:44px;margin:.2rem .5rem}.confirm-btn:focus{outline:none;box-shadow:0 0 0 2px #b0b0b0}.confirm-btn:hover{filter:brightness(.97)}.confirm-message{font-size:1.2rem;margin-bottom:1.5rem}.confirm-btn-row{display:flex;justify-content:center;gap:1.5rem}.confirm-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000040;z-index:9999;display:flex;align-items:center;justify-content:center}.confirm-modal{background:#fff;border-radius:1.2rem;box-shadow:0 2px 16px #888;max-width:90vw;min-width:min(320px,90vw);padding:2rem 1.5rem 1.5rem;position:relative;text-align:center}.dict-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000040;z-index:9999;display:flex;align-items:center;justify-content:center}.dict-modal{background:#fff;border-radius:1.2rem;box-shadow:0 2px 16px #888;max-width:max-content;margin:5vh auto;padding:2rem;position:relative;top:5vh}.marks-overlay{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000059;z-index:9999;display:flex;align-items:center;justify-content:center}.marks-modal{background:#fff;border-radius:1.2rem;box-shadow:0 4px 32px #8888;padding:2rem 1.5rem 1.5rem;max-width:95vw;width:800px;max-height:90vh;overflow-y:auto;position:relative}.marks-close-btn{position:absolute;top:.7rem;right:.7rem;background:none;border:none;font-size:1.3rem;cursor:pointer;color:#888;transition:color .2s}.marks-close-btn:hover{color:#d22}.marks-title{text-align:center;margin:0 0 1.2rem;font-size:1.5rem;font-weight:700}.marks-empty{text-align:center;color:#888;margin:2rem 0;font-size:1.1rem}.marks-table{width:100%;border-collapse:collapse;font-size:1rem;margin:0 auto}.marks-table th,.marks-table td{padding:.3rem .7rem;text-align:center;white-space:nowrap}.marks-table th{background:#f0f4fa;font-weight:600;color:#333;border-bottom:2px solid #e0eafc}.marks-table tr:nth-child(2n) td{background:#f8fafc}.marks-date{color:#837843;min-width:7em;max-width:10em}.marks-mark{font-weight:700;color:#1c681c}.marks-percent{color:#222}.marks-topic{max-width:10em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.marks-mode{min-width:10em;max-width:18em;white-space:nowrap}.marks-questions{color:#333}.look-right{transform:scaleX(-1)}.card-container{width:440px;max-width:99vw;margin:1.5rem auto;background:#fff;border-radius:1.5rem;box-shadow:0 4px 32px #e0eafc,0 1.5px 6px #eaeaea;padding:2.2rem 1.5rem;display:flex;flex-direction:column;align-items:stretch;gap:1.2rem}#mascot-container{width:100%;display:flex;justify-content:center;margin-bottom:.5rem}#mascot{font-size:3.5rem;filter:drop-shadow(0 2px 8px #bcd);animation:mascotHop 7s infinite cubic-bezier(.22,1,.36,1);-webkit-user-select:none;user-select:none;will-change:transform}@keyframes mascotHop{0%{transform:translateY(0) scale(1)}10%{transform:translateY(-18px) scale(1.1,.95)}20%{transform:translateY(0) scale(1)}25%{transform:scale(1.05,.95)}30%{transform:scale(1)}80%{transform:scale(1)}85%{transform:scale(1.1,.92)}90%{transform:scale(1)}to{transform:translateY(0) scale(1)}}#progress-bar-container{width:420px;max-width:98vw;height:16px;background:#f0f0f0;border-radius:8px;margin:.5rem auto 1.2rem;box-shadow:0 1.5px 6px #eaeaea;overflow:hidden;display:none}#progress-bar{height:100%;width:0%;background:linear-gradient(90deg,#b7c0d6,#dbeafe);border-radius:8px 0 0 8px;transition:width .4s cubic-bezier(.22,1,.36,1)}.emoji-reaction{position:absolute;font-size:2.5rem;pointer-events:none;z-index:1000;left:50%;top:0;transform:translate(-50%) scale(1);opacity:1;transition:transform .9s cubic-bezier(.2,1.8,.5,1),opacity .9s;text-shadow:0 2px 8px #fff,0 0 2px #3c3}body:before{content:"";position:fixed;inset:0;z-index:0;pointer-events:none;opacity:.13;background-image:repeating-linear-gradient(135deg,transparent 0 80px,#fff2 80px 160px,transparent 160px 240px),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120"><text x="10" y="60" font-size="48">📚</text><text x="60" y="110" font-size="36">✏️</text><text x="70" y="40" font-size="32">⭐</text><text x="10" y="110" font-size="32">🧮</text><text x="60" y="30" font-size="36">🎓</text></svg>'),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120"><text x="10" y="60" font-size="48">📚</text><text x="60" y="110" font-size="36">✏️</text><text x="70" y="40" font-size="32">⭐</text><text x="10" y="110" font-size="32">🧮</text><text x="60" y="30" font-size="36">🎓</text></svg>');background-size:340px 340px,340px 340px,340px 340px;background-repeat:repeat,repeat,repeat;background-position:0 0,170px 170px,0 0;transition:opacity .4s}body.question-active:before{opacity:0!important}body{position:relative;z-index:1;background:transparent}.menu-bg-gradient{background:linear-gradient(120deg,#e0eafc,#cfdef3)!important}.fade-in{animation:fadeInOnly .5s cubic-bezier(.22,1,.36,1)}@keyframes fadeInOnly{0%{opacity:0}to{opacity:1}}.pulse{animation:pulseAnim .5s cubic-bezier(.22,1,.36,1)}@keyframes pulseAnim{0%{transform:scale(1)}40%{transform:scale(1.18)}60%{transform:scale(.92)}to{transform:scale(1)}}*{font-family:Mulish,sans-serif}#icon{font-size:100px;margin:0 auto;display:block;width:100px;text-align:center}.button{font-size:20px;margin:10px auto;text-align:center;width:420px;max-width:98vw;display:block;box-sizing:border-box}.button-icons{font-size:40px;margin:5px}.block{display:block}#stats{width:100%;text-align:center}#round{width:20%;font-size:30px;color:green;display:inline-block;margin:10px}#remaining{width:20%;font-size:30px;display:inline-block;margin:10px}#score{width:100%;margin:15px auto;color:#000;font-size:30px;text-align:center}#score span{color:green;font-weight:900}#anim-div{width:100vw;height:100vh;top:0;left:0;position:fixed;background-color:#383;visibility:hidden;touch-action:manipulation;overflow:hidden;z-index:100;transition:background .3s}.abs{position:absolute;display:inline-block;font-size:2.2rem;max-width:90vw;max-height:90vh;box-sizing:border-box}.button,.button-icons,button{min-width:44px;min-height:44px;border-radius:1.2rem;transition:background .2s,box-shadow .2s;touch-action:manipulation;display:block;box-sizing:border-box;background:#f8f8f8;border:2px solid #d2d2d2;box-shadow:0 1.5px 6px #eaeaea;font-weight:500;color:#222;margin:.5rem auto;outline:none}.button{width:420px!important;max-width:98vw!important}.button.selected,.button:focus,.button:active{outline:none;box-shadow:0 0 0 3px #b0b0b0,0 1.5px 6px #eaeaea;background:#f0f0f0;color:#222}.button:hover,.button-icons:hover,button:hover{background:linear-gradient(#0000000a,#0000000a),#f0f0f0;box-shadow:0 2px 12px #d0d0d0;color:#222}.button:active,.button-icons:active,button:active{background:#ededed;color:#222}#menu-title{font-size:5.2rem;font-family:Mulish,sans-serif;font-weight:900;letter-spacing:.08em;text-align:center;margin-top:2.5rem;margin-bottom:1.5rem;background:linear-gradient(90deg,#24ce27 10%,#fc3 40%,#6ee7b7 60%,#60a5fa 90%);background-color:#0000;background-clip:border-box;-webkit-background-clip:text!important;-webkit-text-fill-color:transparent!important;background-clip:text!important;color:transparent!important;text-shadow:2.5px 2.5px 0 #1e8d59,-2.5px 2.5px 0 #a2c9af,2.5px -2.5px 0 #6ee7b7,-2.5px -2.5px 0 #b0c5de,0 6px 16px #fffbe7,0 2px 0 #ffb347,0 0 24px #fc3,0 0 32px #b6e3c6;-webkit-user-select:none;user-select:none;mix-blend-mode:normal;filter:none;background-color:transparent!important;display:inline-block;min-width:1px}@media (max-width: 600px){html,body{min-width:320px;min-height:100vh;max-width:100vw;overflow-x:hidden;font-size:13px}#menu-title{font-size:1.3rem;margin-top:.7rem;margin-bottom:.4rem}.card-container{width:99vw;min-width:0;padding:.5rem .2rem;border-radius:.7rem;box-shadow:0 1px 6px #e0eafc,0 1px 3px #eaeaea;gap:.3rem}#anim-div{font-size:.9rem;padding:0}.abs{font-size:.9rem}#icon{font-size:1.2rem;width:1.2rem}.button,.button-icons,button{font-size:.9rem;min-width:36px;min-height:36px;width:92vw!important;max-width:97vw!important;padding:.4rem .2rem;margin:.15rem auto}#score,#round,#remaining{font-size:1.08rem}#progress-bar-container{width:92vw;min-width:0;height:10px}.marks-modal{width:99vw;max-width:99vw;padding:.5rem .1rem 2.5rem;margin-bottom:2.5rem!important}.marks-table th,.marks-table td{padding:.1rem;font-size:.85rem}.marks-title,.marks-close-btn{font-size:.9rem}.confirm-modal,.dict-modal{max-width:99vw;min-width:0;padding:.5rem .2rem}.confirm-message{font-size:.9rem}.confirm-btn-row{gap:.4rem}.confirm-btn{font-size:.9rem;padding:.3rem .7rem;border-radius:.5rem}body>div[style*="position: fixed"]{top:auto!important;bottom:0!important;left:0!important;width:100vw!important;display:grid!important;grid-template-columns:repeat(7,minmax(0,1fr))!important;gap:.3rem!important;padding:.3rem!important;box-shadow:0 -2px 8px #eee!important;background:#fffffff7!important;z-index:210!important}body>div[style*="position: fixed"] button,body>div[style*="position: fixed"] select{font-size:.85rem!important;padding:.3rem!important;min-width:32px!important;min-height:32px!important;border-radius:.7rem!important;margin:0!important;box-shadow:0 1px 3px #eee!important;width:100%!important;max-width:100%!important}body>div[style*="position: fixed"] .material-icons{font-size:1.1rem!important}.card-container .button,.card-container .button-icons,.card-container button,#mode-div .button,#mode-div .button-icons,#mode-div button{font-size:.92rem!important;min-width:32px!important;min-height:32px!important;padding:.25rem .15rem!important;margin:.18rem auto!important;border-radius:.7rem!important;width:85vw!important;max-width:320px!important}.card-container{gap:.15rem}#menu-title{font-size:1.1rem;margin-top:.5rem;margin-bottom:.2rem}#icon{font-size:.85rem!important;width:80vw!important;max-width:220px!important;min-width:40px!important;margin:.1rem auto!important;text-align:center!important;word-break:break-word!important;overflow-wrap:break-word!important}body>div[style*="position: fixed"] select#topic-selector{min-width:90px!important;max-width:220px!important;width:38vw!important;font-size:.95rem!important;padding:.3rem .7rem!important}#question{font-size:.95rem!important;max-width:85vw!important;margin:.18rem auto!important;word-break:break-word;text-align:center;font-weight:700;letter-spacing:.01em}}@media (max-width: 900px) and (min-width: 601px),(max-width: 1280px) and (min-width: 700px){html,body{font-size:17px;min-width:375px;max-width:100vw;overflow-x:hidden}#menu-title{font-size:3.2rem;margin-top:1.5rem;margin-bottom:1rem}.card-container{width:95vw;min-width:0;padding:1.5rem 1rem;border-radius:1.2rem;box-shadow:0 2px 12px #e0eafc,0 1.5px 6px #eaeaea;gap:1rem}#icon{font-size:2.5rem;width:2.5rem}.button,.button-icons,button{font-size:1.1rem;min-width:44px;min-height:44px;width:90vw!important;max-width:95vw!important;padding:.7rem 1rem;margin:.4rem auto}#score,#round,#remaining{font-size:1.25rem}#progress-bar-container{width:90vw;min-width:0;height:14px}.marks-modal{width:95vw;max-width:98vw;padding:1.2rem .7rem}.marks-table th,.marks-table td{padding:.25rem .4rem;font-size:1rem}.marks-title{font-size:1.3rem}.marks-close-btn{font-size:1.2rem}.confirm-modal,.dict-modal{max-width:95vw;min-width:0;padding:1.2rem .7rem}.confirm-message{font-size:1.1rem}.confirm-btn-row{gap:1rem}.confirm-btn{font-size:1.1rem;padding:.6rem 1.5rem;border-radius:.8rem}}</style>
    </head>
    <body>
        <!-- Main menu content -->
        <!-- Unified bottom control bar: SFX, fullscreen, topic selector -->
        <div class="bottom-bar">
            <button id="sfx-btn" title="Toggle sound effects" class="bottom-bar-btn"></button>
            <div class="flex justify-center">
                <button id="back-to-menu-btn" class="bottom-bar-btn">Back to Menu</button>
            </div>
            <select id="topic-selector" class="bottom-bar-select">
                <!-- Options will be populated by JS -->
            </select>
            <button id="marks-menu-btn" class="bottom-bar-btn">My Marks</button>
            <button id="dictionary-btn" class="bottom-bar-btn">Dictionary</button>
            <button id="fullscreen-btn" title="Fullscreen" class="bottom-bar-btn">
                <span class="material-icons align-middle">fullscreen</span>
            </button>
        </div>

        <div id="menu-title">English Tutor</div>
        <div id="score"></div>
        <div id="stats">
            <div id="round"></div>
            <div id="remaining"></div>
        </div>

        <div id="progress-bar-container">
            <div id="progress-bar"></div>
        </div>

        <div id="mascot-container">
            <div id="mascot">🐰</div>
        </div>

        <div class="card-container">
            <div id="icon"></div>
            <div id="label"></div>
            <div id="mode-div"></div>
            <div id="question"></div>
        </div>

        <div id="anim-div"></div>
    </body>
</html>
